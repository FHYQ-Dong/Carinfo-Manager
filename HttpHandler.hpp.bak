#include "AccountPool.hpp"
#include "CarPool.hpp"
#include "Hash.hpp"
#include "cpp-httplib/httplib.h"


class HttpHandler {
    private:
        AccountPool accountpool;
        CarPool carpool;

    public:
        HttpHandler();
        HttpHandler(AccountPool accountpool, CarPool carpool);
        // test connection
        void handler_test_connection(const httplib::Request &req, httplib::Response &res);
        // login or change password
        void handler_login(const httplib::Request &req, httplib::Response &res);
        void handler_change_password(const httplib::Request &req, httplib::Response &res);
        // car management
        void handler_get_carinfo(const httplib::Request &req, httplib::Response &res);
        void handler_add_car(const httplib::Request &req, httplib::Response &res);
        void handler_remove_car(const httplib::Request &req, httplib::Response &res);
        void handler_update_car(const httplib::Request &req, httplib::Response &res);
        // account management
        void handler_get_accountinfo(const httplib::Request &req, httplib::Response &res);
        void handler_add_account(const httplib::Request &req, httplib::Response &res);
        void handler_remove_account(const httplib::Request &req, httplib::Response &res);
        void handler_update_account(const httplib::Request &req, httplib::Response &res);
};
