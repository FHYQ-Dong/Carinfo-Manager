cmake_minimum_required(VERSION 3.6)


# SET(CMAKE_CXX_CREATE_STATIC_LIBRARY "<CMAKE_CXX_COMPILER> -o <TARGET> <OBJECTS>")
# set(CMAKE_CXX_COMPILE_OBJECT "")

include_directories(include)
aux_source_directory(src HTTP_SRC)
add_library(libhttp ${HTTP_SRC})
target_include_directories(libhttp PUBLIC include)

# if Windows platform
if (WIN32 AND MINGW)
    target_link_libraries(libhttp ws2_32 wsock32)
endif()

# set output path
set_target_properties(libhttp PROPERTIES
    ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/lib
    LIBRARY_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/lib
    # FOLDER "libs"
)